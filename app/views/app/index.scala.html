@(user_id: String, user_json: String)

@layout("Clockwork Semaphore") {
<div class="container" ng-controller="AppCtrl"
ng-init="init( '@user_id', {'@user_id': @user_json} )">



<nav id="main-navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">
    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-6">
        <ul class="nav navbar-nav">
            <li><a href="logout"><i class="fa fa-power-off fa-6"></i></a></li>
            <li>
                <a ng-click="up_one_level()" ng-if="focus!='front-page'">
                    <i class="fa fa-arrow-circle-o-left fa-6" style="cursor: pointer;"></i>
                </a>
            </li>
        </ul>
    </div>
</nav>





<div class="row">

    <div class="col-lg-2 col-md-2 col-sm-2">
        <!-- (left sidebar) -->
        <div class="panel panel-default" ng-show="focus=='user-posts'">
            <div class="panel-heading">
                <img ng-src="{{get_user(focused_user).avatar_url}}" class="img-rounded">
                {{ get_user(message.user_id).alias }}
            </div>
            <div class="panel-body">
                Panel content
            </div>
        </div>
    </div>

    <div class="col-lg-8 col-md-8 col-sm-8" id="tweet_column">
    <form class="form-inline" ng-submit="send()" ng-if="signup_complete()">
        <textarea ng-model="text" class="form-control" placeholder="> input message" class="message" id="tweeter"></textarea >
        <br>
        <input type="submit" class="form-control" />
    </form>

    <form class="form-inline" ng-submit="set_alias()" ng-if="!signup_complete()" >
        <input type="text" placeholder="pick a pseudonym" class="form-control" id="alias">
    </form>

    <br>

    <div class="panel panel-tweet" ng-repeat="message in get_messages()">
    <div class="panel-heading">
        <img ng-src="{{get_user(message.user_id).avatar_url}}" class="img-rounded" ng-click="focus_on_user(message.user_id)" style="cursor: pointer;">
        &nbsp
        {{ get_user(message.user_id).alias }}
    </div>
    <div class="panel-body">
        {{ message.body }}
        <span class="offset1 span2 label pull-right">
        <br>
        <a ng-click="delete_message(message)" ng-if="message.user_id==current_user" style="cursor: pointer;">
            <i class="fa fa-trash-o fa-6"  title="delete post"></i>
        </a>

        <a ng-click="favorite_message(message)" ng-if="message.user_id!=current_user" style="cursor: pointer;">
            <i class="fa fa-star-o fa-6" ng-if="!message.favorite"  title="favorite message"></i>
            <i class="fa fa-star fa-6" ng-if="message.favorite" title="unfavorite message"></i>
        </a>


    </span>
    </div>
    </div>
    </div>

    <div class="col-lg-2 col-md-2 col-sm-2">
        <!-- (right sidebar) -->
    </div>
</div>


</div>
}
